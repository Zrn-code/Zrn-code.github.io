var e={version:"0.2.5",hostname:"https://zrn-code.github.io",root:"/",statics:"/",favicon:{normal:"images/favicon.ico",hidden:"images/failure.ico"},darkmode:!0,auto_scroll:!0,js:{valine:"gh/amehime/MiniValine@4.2.2-beta10/dist/MiniValine.min.js",chart:"npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js",copy_tex:"npm/katex@0.12.0/dist/contrib/copy-tex.min.js",fancybox:"combine/npm/jquery@3.5.1/dist/jquery.min.js,npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js,npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js",echarts:"npm/echarts@5.2.2/dist/echarts.min.js"},css:{valine:"css/comment.css",katex:"npm/katex@0.12.0/dist/katex.min.css",mermaid:"css/mermaid.css",fancybox:"combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},loader:{start:!0,switch:!1},search:{appID:"T0NH1R9ZS3",apiKey:"a9a619a664db08dcb3dfba0cdc48c6ea",indexName:"zrn_note",hits:{per_page:10}},valine:{appId:"CziOdBJDnAAL8QoQAOS9uj5K-MdYXbMMI",appKey:"MkVbM9cCBTJQrc3BorFwi9Yv",placeholder:"歡迎你們大力的留言喔!!!",avatar:"monsterid",pageSize:10,lang:"zh-TW",visitor:!0,NoRecordIP:!0,serverURLs:"https://CziOdBJD.api.lncldglobal.com",powerMode:!0,tagMeta:{visitor:"新朋友",master:"主人",friend:"小伙伴",classmate:"高中同學"},tagColor:{master:"var(--color-orange)",friend:"var(--color-aqua)",classmate:"var(--color-green)"},tagMember:{master:["7ff682086da1f37dbc2fa027a681c867"],friend:["0d67242d6b8c18975004533dfa623933","6ce389518d2ae170abc8e7cc37c3cf21","43fbf5b2bd1e07da44376bb73aa69bc3","05b2887aef153907bea724da3ac6a9f8","7c1aa4b1ef4029ed46ba5b953aadd367","0f1c7f23f11f1c177cf6c722c5526456","14d3f1771fa156800190d4ffb2d4f14b"],classmate:["d6e8e7e208d47e56099c68e73a3881cd"]}},quicklink:{timeout:3e3,priority:!0},audio:[{title:"我喜愛的音樂清單",list:["https://music.163.com/#/playlist?id=882731359","https://music.163.com/playlist?id=5358736510"]},{title:"蠻推薦的歐美",list:["https://music.163.com/#/playlist?id=2829816518"]},{title:"學習向輕音樂",list:["https://music.163.com/#/playlist?id=748089523"]}],fireworks:["rgba(135,206,250,.9)","rgba(240,255,255,.9)","rgba(187,222,214,.9)","rgba(138,198,209,.9)"]};const t=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},a=function(){return u("main > .inner").offsetHeight},n=function(e,t,a){if(a)t();else{var n=document.createElement("script");n.onload=n.onreadystatechange=function(e,a){(a||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n=void 0,!a&&t&&setTimeout(t,0))},n.src=e,document.head.appendChild(n)}},i=function(t,a){var n=e[t][a];return n.indexOf("npm")>-1||n.indexOf("gh")>-1||n.indexOf("combine")>-1?"//cdn.jsdelivr.net/"+n:n.indexOf("http")>-1?n:m+n},r=function(e,t,a){LOCAL[e]&&n(i("js",e),t||function(){window[e]=!0},a||window[e])},s=function(e,t){window["css"+e]||LOCAL[e]&&(document.head.createChild("link",{rel:"stylesheet",href:i("css",e)}),window["css"+e]=!0)},o=function(e){var t=e.text||e.textContent||e.innerHTML||"",a=e.parentNode;a.removeChild(e);var n=document.createElement("script");e.id&&(n.id=e.id),e.className&&(n.className=e.className),e.type&&(n.type=e.type),e.src&&(n.src=e.src,n.async=!1),void 0!==e.dataset.pjax&&(n.dataset.pjax=""),""!==t&&n.appendChild(document.createTextNode(t)),a.appendChild(n)},c=function(e,t,a){var n={targets:"number"==typeof t?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:t||("number"==typeof e?e:e?e.top()+document.documentElement.scrollTop-P:0),complete:function(){a&&a()}};anime(n)},l=function(e,t,a){var n={},i="none";switch(t){case 0:n={opacity:[1,0]};break;case 1:n={opacity:[0,1]},i="block";break;case"bounceUpIn":n={begin:function(t){e.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},i="block";break;case"shrinkIn":n={begin:function(t){e.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},i="block";break;case"slideRightIn":n={begin:function(t){e.display("block")},translateX:[100,0],opacity:[0,1]},i="block";break;case"slideRightOut":n={translateX:[0,100],opacity:[1,0]};break;default:n=t,i=t.display}anime(Object.assign({targets:e,duration:200,easing:"linear"},n)).finished.then((function(){e.display(i),a&&a()}))},d={get:function(e){return localStorage.getItem(e)},set:function(e,t){return localStorage.setItem(e,t),t},del:function(e){localStorage.removeItem(e)}},u=function(e,t){return t=t||document,0===e.indexOf("#")?t.getElementById(e.replace("#","")):t.querySelector(e)};u.all=function(e,t){return(t=t||document).querySelectorAll(e)},u.each=function(e,t,a){return u.all(e,a).forEach(t)},Object.assign(HTMLElement.prototype,{createChild:function(e,t,a){var n=document.createElement(e);switch(Object.assign(n,t),a){case"after":this.insertAfter(n);break;case"replace":this.innerHTML="";default:this.appendChild(n)}return n},wrap:function(e){var t=document.createElement("div");Object.assign(t,e),this.parentNode.insertBefore(t,this),this.parentNode.removeChild(this),t.appendChild(this)},height:function(e){return e&&(this.style.height="number"==typeof e?e+"rem":e),this.getBoundingClientRect().height},width:function(e){return e&&(this.style.width="number"==typeof e?e+"rem":e),this.getBoundingClientRect().width},top:function(){return this.getBoundingClientRect().top},left:function(){return this.getBoundingClientRect().left},attr:function(e,t){return null===t?this.removeAttribute(e):t?(this.setAttribute(e,t),this):this.getAttribute(e)},insertAfter:function(e){var t=this.parentNode;t.lastChild==this?t.appendChild(e):t.insertBefore(e,this.nextSibling)},display:function(e){return null==e?this.style.display:(this.style.display=e,this)},child:function(e){return u(e,this)},find:function(e){return u.all(e,this)},_class:function(e,t,a){var n=t.indexOf(" ")?t.split(" "):[t],i=this;n.forEach((function(t){"toggle"==e?i.classList.toggle(t,a):i.classList[e](t)}))},addClass:function(e){return this._class("add",e),this},removeClass:function(e){return this._class("remove",e),this},toggleClass:function(e,t){return this._class("toggle",e,t),this},hasClass:function(e){return this.classList.contains(e)}});var f=null;const h=/mobile/i.test(window.navigator.userAgent),p=function(e,t){var a={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause":function(t){i.paused?e.player.play():e.player.pause()},music:function(e){s.el.hasClass("show")?s.hide():(s.el.addClass("show"),r.scroll().title())}}},n={random:function(e){return Math.floor(Math.random()*e)},parse:function(e){var t=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+).html","tencent","song"],["y.qq.com.*album/(\\w+).html","tencent","album"],["y.qq.com.*singer/(\\w+).html","tencent","artist"],["y.qq.com.*playsquare/(\\w+).html","tencent","playlist"],["y.qq.com.*playlist/(\\w+).html","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach((function(a){var n=new RegExp(a[0]).exec(e);null!==n&&(t=[a[1],a[2],n[1]])})),t},fetch:function(e){var t=[];return new Promise((function(a,i){e.forEach((function(e){var i=n.parse(e);if(i[0]){var s=JSON.stringify(i),r=d.get(s);r?(t.push.apply(t,JSON.parse(r)),a(t)):fetch("https://api.i-meto.com/meting/api?server="+i[0]+"&type="+i[1]+"&id="+i[2]+"&r="+Math.random()).then((function(e){return e.json()})).then((function(e){d.set(s,JSON.stringify(e)),t.push.apply(t,e),a(t)})).catch((function(e){}))}else t.push(e),a(t)}))}))},secondToTime:function(e){var t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=Math.floor(e-3600*t-60*a);return(t>0?[t,a,n]:[a,n]).map((function(e){return isNaN(e)?"00":e<10?"0"+e:""+e})).join(":")},nameMap:{dragStart:h?"touchstart":"mousedown",dragMove:h?"touchmove":"mousemove",dragEnd:h?"touchend":"mouseup"}},i=null;e.player={_id:n.random(999999),group:!0,load:function(e){var t="";for(var a in e&&e.length>0?this.options.rawList!==e&&(this.options.rawList=e,r.clear()):(t="none",this.pause()),g.el)g.el[a].display(t);return this},fetch:function(){var e=this;return new Promise((function(t,a){if(r.data.length>0)t();else if(e.options.rawList){var i=[];e.options.rawList.forEach((function(t,a){i.push(new Promise((function(i,s){var c,o=a;t.list?(e.group=!0,c=t.list):(o=0,e.group=!1,c=[t]),n.fetch(c).then((function(e){r.add(o,e),i()}))})))})),Promise.all(i).then((function(){t(!0)}))}})).then((function(t){t&&(r.create(),m.create(),e.mode())}))},mode:function(){var e=r.data.length;if(e&&r.errnum!=e){var t="next"==m.step?1:-1,a=function(){var a=r.index+t;(a>e||a<0)&&(a="next"==m.step?0:e-1),r.index=a},i=function(){var t=n.random(e);r.index!==t?r.index=t:a()};switch(this.options.mode){case"random":i();break;case"order":a();break;case"loop":m.step&&a(),-1==r.index&&i()}this.init()}},switch:function(e){"number"==typeof e&&e!=r.index&&r.current()&&!r.current().error&&(r.index=e,this.init())},init:function(){var e=r.current();if(e&&!e.error){var t=!1;i.paused||(t=!0,this.stop()),i.attr("src",e.url),i.attr("title",e.name+" - "+e.artist),this.volume(d.get("_PlayerVolume")||"0.7"),this.muted(d.get("_PlayerMuted")),p.create(),"audio"==this.options.type&&l.create(),1==t&&this.play()}else this.mode()},play:function(){if(f&&f.player.pause(),r.current().error)this.mode();else{i.play().then((function(){r.scroll()})).catch((function(e){}))}},pause:function(){i.pause(),document.title=y},stop:function(){i.pause(),i.currentTime=0,document.title=y},seek:function(e){e=Math.max(e,0),e=Math.min(e,i.duration),i.currentTime=e,p.update(e/i.duration)},muted:function(e){"muted"==e?(i.muted=e,d.set("_PlayerMuted",e),m.update(0)):(d.del("_PlayerMuted"),i.muted=!1,m.update(i.volume))},volume:function(e){isNaN(e)||(m.update(e),d.set("_PlayerVolume",e),i.volume=e)},mini:function(){s.hide()}};var s={el:null,create:function(){this.el||(this.el=e.createChild("div",{className:"player-info",innerHTML:("audio"==e.player.options.type?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),l.el=this.el.child(".preview"),r.el=this.el.child(".playlist"),m.el=this.el.child(".controller"))},hide:function(){var e=this.el;e.addClass("hide"),window.setTimeout((function(){e.removeClass("show hide")}),300)}},r={el:null,data:[],index:-1,errnum:0,add:function(e,t){var a=this;t.forEach((function(t,n){t.group=e,t.name=t.name||t.title||"Meida name",t.artist=t.artist||t.author||"Anonymous",t.cover=t.cover||t.pic,t.type=t.type||"normal",a.data.push(t)}))},clear:function(){this.data=[],this.el.innerHTML="",-1!==this.index&&(this.index=-1,e.player.fetch())},create:function(){var t=this.el;this.data.map((function(a,n){if(!a.el){var s="list-"+e.player._id+"-"+a.group,c=u("#"+s);return c||(c=t.createChild("div",{id:s,className:e.player.group?"tab":"",innerHTML:"<ol></ol>"}),e.player.group&&c.attr("data-title",e.player.options.rawList[a.group].title).attr("data-id",e.player._id)),a.el=c.child("ol").createChild("li",{title:a.name+" - "+a.artist,innerHTML:'<span class="info"><span>'+a.name+"</span><span>"+a.artist+"</span></span>",onclick:function(t){var a=t.currentTarget;r.index===n&&p.el?i.paused?e.player.play():e.player.seek(i.duration*p.percent(t,a)):(e.player.switch(n),e.player.play())}}),a}})),ve()},current:function(){return this.data[this.index]},scroll:function(){var e=this.current(),t=this.el.child("li.active");t&&t.removeClass("active");var a=this.el.child(".tab.active");return a&&a.removeClass("active"),(t=this.el.find(".nav li")[e.group])&&t.addClass("active"),(a=this.el.find(".tab")[e.group])&&a.addClass("active"),c(e.el,e.el.offsetTop),this},title:function(){if(!i.paused){var e=this.current();document.title="Now Playing..."+e.name+" - "+e.artist+" | "+y}},error:function(){var e=this.current();e.el.removeClass("current").addClass("error"),e.error=!0,this.errnum++}},o={el:null,data:null,index:0,create:function(e){var t=r.index,a=this,n=r.current().lrc,i=function(n){if(t===r.index){a.data=a.parse(n);var i="";a.data.forEach((function(e,t){i+="<p"+(0===t?' class="current"':"")+">"+e[1]+"</p>"})),a.el=e.createChild("div",{className:"inner",innerHTML:i},"replace"),a.index=0}};n.startsWith("http")?this.fetch(n,i):i(n)},update:function(e){if(this.data&&(this.index>this.data.length-1||e<this.data[this.index][0]||!this.data[this.index+1]||e>=this.data[this.index+1][0]))for(var t=0;t<this.data.length;t++)if(e>=this.data[t][0]&&(!this.data[t+1]||e<this.data[t+1][0])){this.index=t;var a=-(this.index-1);this.el.style.transform="translateY("+a+"rem)",this.el.style.webkitTransform="translateY("+a+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[t].addClass("current")}},parse:function(e){if(e){e=e.replace(/([^\]^\n])\[/g,(function(e,t){return t+"\n["}));const i=e.split("\n");var t=[];const s=i.length;for(var a=0;a<s;a++){const e=i[a].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),s=i[a].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(e){const a=e.length;for(var n=0;n<a;n++){const a=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(e[n]),i=60*a[1]+parseInt(a[2])+(a[4]?parseInt(a[4])/(2===(a[4]+"").length?100:1e3):0);t.push([i,s])}}}return t=t.filter((function(e){return e[1]})),t.sort((function(e,t){return e[0]-t[0]})),t}return[]},fetch:function(e,t){fetch(e).then((function(e){return e.text()})).then((function(e){t(e)})).catch((function(e){}))}},l={el:null,create:function(){var t=r.current();this.el.innerHTML='<div class="cover"><div class="disc"><img src="'+t.cover+'" class="blur" /></div></div><div class="info"><h4 class="title">'+t.name+"</h4><span>"+t.artist+'</span><div class="lrc"></div></div>',this.el.child(".cover").addEventListener("click",e.player.options.events["play-pause"]),o.create(this.el.child(".lrc"))}},p={el:null,bar:null,create:function(){var e=r.current().el;e&&(this.el&&(this.el.parentNode.removeClass("current").removeEventListener(n.nameMap.dragStart,this.drag),this.el.remove()),this.el=e.createChild("div",{className:"progress"}),this.el.attr("data-dtime",n.secondToTime(0)),this.bar=this.el.createChild("div",{className:"bar"}),e.addClass("current"),e.addEventListener(n.nameMap.dragStart,this.drag),r.scroll())},update:function(e){this.bar.width(Math.floor(100*e)+"%"),this.el.attr("data-ptime",n.secondToTime(e*i.duration))},seeking:function(e){e?this.el.addClass("seeking"):this.el.removeClass("seeking")},percent:function(e,t){var a=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width();return a=Math.max(a,0),Math.min(a,1)},drag:function(t){t.preventDefault();var a=r.current().el,s=function(e){e.preventDefault();var t=p.percent(e,a);p.update(t),o.update(t*i.duration)},c=function(t){t.preventDefault(),a.removeEventListener(n.nameMap.dragEnd,c),a.removeEventListener(n.nameMap.dragMove,s);var r=p.percent(t,a);p.update(r),e.player.seek(r*i.duration),i.disableTimeupdate=!1,p.seeking(!1)};i.disableTimeupdate=!0,p.seeking(!0),a.addEventListener(n.nameMap.dragMove,s),a.addEventListener(n.nameMap.dragEnd,c)}},m={el:null,btns:{},step:"next",create:function(){if(e.player.options.controls){var t=this;e.player.options.controls.forEach((function(a){if(!t.btns[a]){var s={onclick:function(n){t.events[a]?t.events[a](n):e.player.options.events[a](n)}};switch(a){case"volume":s.className=" "+(i.muted?"off":"on"),s.innerHTML='<div class="bar"></div>',s["on"+n.nameMap.dragStart]=t.events.volume,s.onclick=null;break;case"mode":s.className=" "+e.player.options.mode;break;default:s.className=""}s.className=a+s.className+" btn",t.btns[a]=t.el.createChild("div",s)}})),t.btns.volume.bar=t.btns.volume.child(".bar")}},events:{mode:function(t){switch(e.player.options.mode){case"loop":e.player.options.mode="random";break;case"random":e.player.options.mode="order";break;default:e.player.options.mode="loop"}m.btns.mode.className="mode "+e.player.options.mode+" btn",d.set("_PlayerMode",e.player.options.mode)},volume:function(t){t.preventDefault();var a=t.currentTarget,s=!1,r=function(t){t.preventDefault(),e.player.volume(m.percent(t,a)),s=!0},c=function(t){t.preventDefault(),a.removeEventListener(n.nameMap.dragEnd,c),a.removeEventListener(n.nameMap.dragMove,r),s?(e.player.muted(),e.player.volume(m.percent(t,a))):i.muted?(e.player.muted(),e.player.volume(i.volume)):(e.player.muted("muted"),m.update(0))};a.addEventListener(n.nameMap.dragMove,r),a.addEventListener(n.nameMap.dragEnd,c)},backward:function(t){m.step="prev",e.player.mode()},forward:function(t){m.step="next",e.player.mode()}},update:function(e){m.btns.volume.className="volume "+(!i.muted&&e>0?"on":"off")+" btn",m.btns.volume.bar.width(Math.floor(100*e)+"%")},percent:function(e,t){var a=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width();return a=Math.max(a,0),Math.min(a,1)}},v={onerror:function(){r.error(),e.player.mode()},ondurationchange:function(){1!==i.duration&&p.el.attr("data-dtime",n.secondToTime(i.duration))},onloadedmetadata:function(){e.player.seek(0),p.el.attr("data-dtime",n.secondToTime(i.duration))},onplay:function(){e.parentNode.addClass("playing"),K(this.attr("title")),f=e},onpause:function(){e.parentNode.removeClass("playing"),f=null},ontimeupdate:function(){this.disableTimeupdate||(p.update(this.currentTime/this.duration),o.update(this.currentTime))},onended:function(t){e.player.mode(),e.player.play()}},g={el:{},create:function(){if(e.player.options.btns){var t=this;e.player.options.btns.forEach((function(a){t.el[a]||(t.el[a]=e.createChild("div",{className:a+" btn",onclick:function(t){e.player.fetch().then((function(){e.player.options.events[a](t)}))}}))}))}}};return function(t){e.player.created||(e.player.options=Object.assign(a,t),e.player.options.mode=d.get("_PlayerMode")||e.player.options.mode,g.create(),i=e.createChild(e.player.options.type,v),s.create(),e.parentNode.addClass(e.player.options.type),e.player.created=!0)}(t),e};var y,b,m=e.statics.indexOf("//")>0?e.statics:e.root,v={x:"undefined",y:"undefined"},g=0;const w=document.getElementsByTagName("body")[0],C=document.documentElement,x=u("#container"),k=u("#loading"),L=u("#nav"),E=u("#header"),T=L.child(".toggle"),M=u("#quick"),N=u("#sidebar"),O=u("#brand");var I,H,A,S,P,D,B,X,j=u("#tool"),q=u("#search"),R=u("#angle"),_=u("#imgs"),z=window.innerHeight,Y=window.innerWidth,W=0,F=window.location.href;const J=lozad("img, [data-background-image]",{loaded:function(e){e.addClass("lozaded")}}),U={timer:null,lock:!1,show:function(){clearTimeout(this.timer),document.body.removeClass("loaded"),k.attr("style","display:block"),U.lock=!1},hide:function(t){e.loader.start||(t=-1),this.timer=setTimeout(this.vanish,t||3e3)},vanish:function(){U.lock||(e.loader.start&&l(k,0),document.body.addClass("loaded"),U.lock=!0)}},V=function(e){var t=u(".theme .ic");"dark"==e?(C.attr("data-theme",e),t.removeClass("i-sun"),t.addClass("i-moon")):(C.attr("data-theme",null),t.removeClass("i-moon"),t.addClass("i-sun"))},Q=function(e){"dark"==C.attr("data-theme")&&(e="#222"),u('meta[name="theme-color"]').attr("content",e)},G=function(){window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){e.matches?V("dark"):V()}));var t=d.get("theme");t?V(t):e.darkmode&&V("dark"),u(".theme").addEventListener("click",(function(e){var t=e.currentTarget.child(".ic"),a=w.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'}),n=function(){l(a,{delay:2500,opacity:0},(function(){w.removeChild(a)}))};if(t.hasClass("i-sun"))var i=function(){a.addClass("dark"),V("dark"),d.set("theme","dark"),n()};else{a.addClass("dark");i=function(){a.removeClass("dark"),V(),d.set("theme","light"),n()}}l(a,1,(function(){setTimeout(i,210)}))}))},$=function(){document.addEventListener("visibilitychange",(function(){switch(document.visibilityState){case"hidden":u('[rel="icon"]').attr("href",m+e.favicon.hidden),document.title=LOCAL.favicon.hide,e.loader.switch&&U.show(),clearTimeout(b);break;case"visible":u('[rel="icon"]').attr("href",m+e.favicon.normal),document.title=LOCAL.favicon.show,e.loader.switch&&U.hide(1e3),b=setTimeout((function(){document.title=y}),2e3)}}))},K=function(e){if(e){var t=w.createChild("div",{innerHTML:e,className:"tip"});setTimeout((function(){t.addClass("hide"),setTimeout((function(){w.removeChild(t)}),300)}),3e3)}},Z=function(e){P=L.height(),D=E.height(),B=D+u("#waves").height(),Y!=window.innerWidth&&ie(null,1),z=window.innerHeight,Y=window.innerWidth,N.child(".panels").height(z+"px")},ee=function(e){var t=window.innerHeight,a=u("main > .inner").offsetHeight,n=a>t?a-t:document.body.scrollHeight-t,i=window.pageYOffset>D,s=window.pageYOffset>0,r=Math.round(Math.min(300*window.pageYOffset/n,100))/-5,c=200+window.pageYOffset;r>c&&(r=c),_.style.transform="translate3d(0,"+r+"vh,0)",_.style.webkitTransform="translate3d(0,"+r+"vh,0)",_.style.msTransform="translate3d(0,"+r+"vh,0)",_.style.OTransform="translate3d(0,"+r+"vh,0)",Q(i?"#FFF":"#222"),L.toggleClass("show",i),j.toggleClass("affix",s),O.toggleClass("affix",s),N.toggleClass("affix",window.pageYOffset>B&&document.body.offsetWidth>991),void 0===v.y&&(v.y=window.pageYOffset),(g=v.y-window.pageYOffset)<0?(L.removeClass("up"),L.toggleClass("down",i)):g>0&&(L.removeClass("down"),L.toggleClass("up",i)),v.y=window.pageYOffset;var o=Math.round(Math.min(100*window.pageYOffset/n,100))+"%";H.child("span").innerText=o,u(".percent").width(o)},te=function(){e.auto_scroll&&d.set(F,v.y)},ae=function(t){var a=window.location.hash,n=null;W?d.del(F):((n=a?u(decodeURI(a)):e.auto_scroll?parseInt(d.get(F)):0)&&(c(n),W=1),t&&a&&!W&&(c(n),W=1))},ne=function(e,t){var a=w.createChild("textarea",{style:{top:window.scrollY+"px",position:"absolute",opacity:"0"},readOnly:!0,value:e});const n=document.getSelection(),i=n.rangeCount>0&&n.getRangeAt(0);a.select(),a.setSelectionRange(0,e.length),a.readOnly=!1;var s=document.execCommand("copy");t&&t(s),a.blur(),i&&(n.removeAllRanges(),n.addRange(i)),w.removeChild(a)},ie=function(e,t){N.hasClass("on")?(N.removeClass("on"),T.removeClass("close"),t?N.style="":l(N,"slideRightOut")):t?N.style="":l(N,"slideRightIn",(function(){N.addClass("on"),T.addClass("close")}))},re=function(){var e=N.child(".inner");N.find(".panel");N.child(".tab")&&e.removeChild(N.child(".tab"));var t=document.createElement("ul"),a="active";t.className="tab",["contents","related","overview"].forEach((function(e){var n=N.child(".panel."+e);if(n.innerHTML.replace(/(^\s*)|(\s*$)/g,"").length<1)"contents"==e&&S.display("none");else{"contents"==e&&S.display("");var i=document.createElement("li"),s=document.createElement("span"),r=document.createTextNode(n.attr("data-title"));s.appendChild(r),i.appendChild(s),i.addClass(e+" item"),a?(n.addClass(a),i.addClass(a)):n.removeClass("active"),i.addEventListener("click",(function(e){var t=event.currentTarget;t.hasClass("active")||(N.find(".tab .item").forEach((function(e){e.removeClass("active")})),N.find(".panel").forEach((function(e){e.removeClass("active")})),N.child(".panel."+t.className.replace(" item","")).addClass("active"),t.addClass("active"))})),t.appendChild(i),a=""}})),t.childNodes.length>1?(e.insertBefore(t,e.childNodes[0]),N.child(".panels").style.paddingTop=""):N.child(".panels").style.paddingTop=".625rem"},se=function(){var t=u.all(".contents li");if(!(t.length<1)){var a=Array.prototype.slice.call(t)||[],n=null;a=a.map((function(t,a){var i=t.child("a.toc-link"),r=u(decodeURI(i.attr("href")));if(r){var o=r.child("a.anchor"),l=function(e){e.preventDefault();var t=u(decodeURI(e.currentTarget.attr("href")));n=a,c(t,null,(function(){s(a),n=null}))};return i.addEventListener("click",l),o&&o.addEventListener("click",(function(t){l(t),ne(e.hostname+"/"+LOCAL.path+t.currentTarget.attr("href"))})),r}}));var i=N.child(".contents.panel"),s=function(e,n){var s=t[e];if(s&&!s.hasClass("current")){u.each(".toc .active",(function(e){e&&e.removeClass("active current")})),a.forEach((function(e){e&&e.removeClass("active")})),s.addClass("active current"),a[e]&&a[e].addClass("active");for(var r=s.parentNode;!r.matches(".contents");){if(r.matches("li")){r.addClass("active");var o=u(r.child("a.toc-link").attr("href"));o&&o.addClass("active")}r=r.parentNode}"none"!=getComputedStyle(N).display&&i.hasClass("active")&&c(i,s.offsetTop-i.offsetHeight/4)}},r=function(e){var t=0,n=e[t];if(n.boundingClientRect.top>0)return 0===(t=a.indexOf(n.target))?0:t-1;for(;t<e.length;t++){if(!(e[t].boundingClientRect.top<=0))return a.indexOf(n.target);n=e[t]}return a.indexOf(n.target)};!function(){if(window.IntersectionObserver){var e=new IntersectionObserver((function(e,t){var a=r(e)+(g<0?1:0);null===n&&s(a)}),{rootMargin:"0px 0px -100% 0px",threshold:0});a.forEach((function(t){t&&e.observe(t)}))}}()}},oe=function(){c(0)},ce=function(){c(parseInt(x.height()))},le=function(){c(u("#comments"))},de=function(){c(u("#main"))},ue=function(){u.each(".menu .item:not(.title)",(function(t){var a=t.child("a[href]");if(a){var n=a.pathname===location.pathname||a.pathname===location.pathname.replace("index.html",""),i=!e.root.startsWith(a.pathname)&&location.pathname.startsWith(a.pathname),s=a.hostname===location.hostname&&(n||i);t.toggleClass("active",s),t.parentNode.parentNode.toggleClass("expand",t.parentNode.hasClass("submenu")&&t.parentNode.child(".active"))}}))},fe=function(){if(u(".index.wrap")){if(window.IntersectionObserver){var e=new IntersectionObserver((function(t){t.forEach((function(t){t.target.hasClass("show")?e.unobserve(t.target):(t.isIntersecting||t.intersectionRatio>0)&&(t.target.addClass("show"),e.unobserve(t.target))}))}),{root:null,threshold:[.3]});u.each(".index.wrap article.item, .index.wrap section.item",(function(t){e.observe(t)})),u(".index.wrap .item:first-child").addClass("show")}else u.each(".index.wrap article.item, .index.wrap section.item",(function(e){!1===e.hasClass("show")&&e.addClass("show")}));u.each(".cards .item",(function(e,t){["mouseenter","touchstart"].forEach((function(t){e.addEventListener(t,(function(t){u(".cards .item.active")&&u(".cards .item.active").removeClass("active"),e.addClass("active")}))})),["mouseleave"].forEach((function(t){e.addEventListener(t,(function(t){e.removeClass("active")}))}))}))}},he=function(){u.each("span.exturl",(function(e){var t=document.createElement("a");t.href=decodeURIComponent(atob(e.dataset.url).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),t.rel="noopener external nofollow noreferrer",t.target="_blank",t.className=e.className,t.title=e.title||e.innerText,t.innerHTML=e.innerHTML,e.dataset.backgroundImage&&(t.dataset.backgroundImage=e.dataset.backgroundImage),e.parentNode.replaceChild(t,e)}))},pe=function(e){u(e+" .md img")&&(s("fancybox"),r("fancybox",(function(){var t=jQuery.noConflict();u.each(e+" p.gallery",(function(e){var t=document.createElement("div");t.className="gallery",t.attr("data-height",e.attr("data-height")||120),t.innerHTML=e.innerHTML.replace(/<br>/g,""),e.parentNode.insertBefore(t,e),e.remove()})),u.each(e+" .md img:not(.emoji):not(.vemoji)",(function(e){var a,n=t(e),i="image-info";if(!n.is("a img")){var s=n.attr("data-src")||n.attr("src");n.data("safe-src",s);var r=n.wrap('<a class="fancybox" href="'+s+'" itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>').parent("a");n.is(".gallery img")?i="jg-caption":r.attr("data-fancybox","default").attr("rel","default")}if(a=e.attr("title")){r.attr("data-caption",a);var c=document.createElement("span"),o=document.createTextNode(a);c.appendChild(o),c.addClass(i),e.insertAfter(c)}})),u.each(e+" div.gallery",(function(e,a){t(e).justifiedGallery({rowHeight:t(e).data("height")||120,rel:"gallery-"+a}).on("jg.complete",(function(){t(this).find("a").each((function(e,t){t.attr("data-fancybox","gallery-"+a)}))}))})),t.fancybox.defaults.hash=!1,t(e+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})}),window.jQuery))},me=function(){ge(),u(".md")&&(pe(".post.block"),u(".post.block").oncopy=function(e){K(LOCAL.copyright);var t=u("#copyright");if(window.getSelection().toString().length>30&&t){e.preventDefault();var a="# "+t.child(".author").innerText,n="# "+t.child(".link").innerText,i="# "+t.child(".license").innerText,s=a+"<br>"+n+"<br>"+i+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),r=a+"\n"+n+"\n"+i+"\n\n"+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",s),e.clipboardData.setData("text/plain",r);else if(window.clipboardData)return window.clipboardData.setData("text",r)}},u.each("li ruby",(function(e){var t=e.parentNode;"LI"!=e.parentNode.tagName&&(t=e.parentNode.parentNode),t.addClass("ruby")})),u.each(".md table",(function(e){e.wrap({className:"table-container"})})),u.each(".highlight > .table-container",(function(e){e.className="code-container"})),u.each("figure.highlight",(function(e){var t=e.child(".code-container"),a=e.child("figcaption");e.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');var n=e.child(".copy-btn");n.addEventListener("click",(function(e){var a=e.currentTarget,n="",i="";t.find("pre").forEach((function(e){i+=n+e.innerText,n="\n"})),ne(i,(function(e){a.child(".ic").className=e?"ic i-check":"ic i-times",a.blur(),K(LOCAL.copyright)}))})),n.addEventListener("mouseleave",(function(e){setTimeout((function(){e.target.child(".ic").className="ic i-clipboard"}),1e3)})),e.child(".breakline-btn").addEventListener("click",(function(t){var a=t.currentTarget;e.hasClass("breakline")?(e.removeClass("breakline"),a.child(".ic").className="ic i-align-left"):(e.addClass("breakline"),a.child(".ic").className="ic i-align-justify")}));var i=e.child(".fullscreen-btn"),s=function(){e.removeClass("fullscreen"),e.scrollTop=0,w.removeClass("fullscreen"),i.child(".ic").className="ic i-expand"},r=function(t){t.currentTarget;e.hasClass("fullscreen")?(s(),d&&d(),c(e)):(e.addClass("fullscreen"),w.addClass("fullscreen"),i.child(".ic").className="ic i-compress",l&&l())};if(i.addEventListener("click",r),a&&a.addEventListener("click",r),t&&t.height()>300){t.style.maxHeight="300px",t.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');var o=t.child(".show-btn"),l=(o.child("i"),function(){t.style.maxHeight="",o.addClass("open")}),d=function(){t.style.maxHeight="300px",o.removeClass("open")};o.addEventListener("click",(function(e){o.hasClass("open")?(s(),d(),c(t)):l()}))}})),u.each("pre.mermaid > svg",(function(e){e.style.maxWidth=""})),u.each(".reward button",(function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=u("#qr");"inline-flex"===t.display()?l(t,0):l(t,1,(function(){t.display("inline-flex")}))}))})),u.each(".quiz > ul.options li",(function(e){e.addEventListener("click",(function(t){e.hasClass("correct")?(e.toggleClass("right"),e.parentNode.parentNode.addClass("show")):e.toggleClass("wrong")}))})),u.each(".quiz > p",(function(e){e.addEventListener("click",(function(t){e.parentNode.toggleClass("show")}))})),u.each(".quiz > p:first-child",(function(e){var t=e.parentNode,a="choice";(t.hasClass("true")||t.hasClass("false"))&&(a="true_false"),t.hasClass("multi")&&(a="multiple"),t.hasClass("fill")&&(a="gap_fill"),t.hasClass("essay")&&(a="essay"),e.attr("data-type",LOCAL.quiz[a])})),u.each(".quiz .mistake",(function(e){e.attr("data-type",LOCAL.quiz.mistake)})),u.each("div.tags a",(function(e){e.className=["primary","success","info","warning","danger"][Math.floor(5*Math.random())]})),u.each(".md div.player",(function(e){p(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()})))},ve=function(){var e;u.each("div.tab",(function(t,a){if(!t.attr("data-ready")){var n=t.attr("data-id"),i=t.attr("data-title"),s=u("#"+n);if(s)e=!1;else(s=document.createElement("div")).className="tabs",s.id=n,s.innerHTML='<div class="show-btn"></div>',s.child(".show-btn").addEventListener("click",(function(e){c(s)})),t.parentNode.insertBefore(s,t),e=!0;var r=s.child(".nav ul");r||(r=s.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul"));var o=r.createChild("li",{innerHTML:i});e&&(o.addClass("active"),t.addClass("active")),o.addEventListener("click",(function(e){var a=e.currentTarget;s.find(".active").forEach((function(e){e.removeClass("active")})),t.addClass("active"),a.addClass("active")})),s.appendChild(t),t.attr("data-ready",!0)}}))},ge=function(){var e=u("#comments");if(e)if(A.display(""),window.IntersectionObserver){var t=new IntersectionObserver((function(e,t){var a=e[0];s("valine"),(a.isIntersecting||a.intersectionRatio>0)&&(l(u("#comments"),"bounceUpIn"),t.disconnect())}));t.observe(e)}else s("valine");else A.display("none")},ye=function(t){if(null===e.search)return;q||(q=w.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'}));var a=instantsearch({indexName:e.search.indexName,searchClient:algoliasearch(e.search.appID,e.search.apiKey),searchFunction:function(e){u(".search-input").value&&e.search()}});a.on("render",(function(){t.refresh(u("#search-hits"))})),a.addWidgets([instantsearch.widgets.configure({hitsPerPage:e.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text:function(e){return LOCAL.search.stats.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS)+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item:function(t){var a=t.categories?"<span>"+t.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+e.root+t.path+'">'+a+t._highlightResult.title.value+"</a>"},empty:function(e){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),a.start(),u.each(".search",(function(e){e.addEventListener("click",(function(){document.body.style.overflow="hidden",l(q,"shrinkIn",(function(){u(".search-input").focus()}))}))}));const n=function(){document.body.style.overflow="",l(q,0)};q.addEventListener("click",(function(e){e.target===q&&n()})),u(".close-btn").addEventListener("click",n),window.addEventListener("pjax:success",n),window.addEventListener("keyup",(function(e){"Escape"===e.key&&n()}))},be=function(){u.each(".overview .menu > .item",(function(e){L.child(".menu").appendChild(e.cloneNode(!0))})),k.addEventListener("click",U.vanish),T.addEventListener("click",ie),u(".dimmer").addEventListener("click",ie),M.child(".down").addEventListener("click",ce),M.child(".up").addEventListener("click",oe),j||(j=E.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})),R||(R=E.createChild("div",{id:"angle",innerHTML:'<span><i class="ic i-angle-down" aria-hidden="true"></i></span>'})),I=j.child(".player"),H=j.child(".back-to-top"),A=j.child(".chat"),S=j.child(".contents"),R.addEventListener("click",de),H.addEventListener("click",oe),A.addEventListener("click",le),S.addEventListener("click",ie),p(I),u("main").addEventListener("click",(function(){I.player.mini()}))},we=function(){te(),N.hasClass("on")&&l(N,(function(){N.removeClass("on"),T.removeClass("close")})),u("#main").innerHTML="",u("#main").appendChild(k.lastChild.cloneNode(!0)),c(0)},Ce=function(t){W=0,F=window.location.href,_=u("#imgs"),s("katex"),r("copy_tex"),s("mermaid"),r("chart"),r("valine",(function(){var t=Object.assign({},e.valine);(t=Object.assign(t,LOCAL.valine||{})).el="#comments",t.pathname=LOCAL.path,t.pjax=X,t.lazyload=J,new MiniValine(t),setTimeout((function(){ae(1),pe(".v")}),1e3)}),window.MiniValine),t||u.each("script[data-pjax]",o),y=document.title,Z(),u.each(".menu .item:not(.title)",(function(t){var a=t.child("a[href]");if(a){var n=a.pathname===location.pathname||a.pathname===location.pathname.replace("index.html",""),i=!e.root.startsWith(a.pathname)&&location.pathname.startsWith(a.pathname),s=a.hostname===location.hostname&&(n||i);t.toggleClass("active",s),t.parentNode.parentNode.toggleClass("expand",t.parentNode.hasClass("submenu")&&t.parentNode.child(".active"))}})),re(),se(),u.each("span.exturl",(function(e){var t=document.createElement("a");t.href=decodeURIComponent(atob(e.dataset.url).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),t.rel="noopener external nofollow noreferrer",t.target="_blank",t.className=e.className,t.title=e.title||e.innerText,t.innerHTML=e.innerHTML,e.dataset.backgroundImage&&(t.dataset.backgroundImage=e.dataset.backgroundImage),e.parentNode.replaceChild(t,e)})),ge(),u(".md")&&(pe(".post.block"),u(".post.block").oncopy=function(e){K(LOCAL.copyright);var t=u("#copyright");if(window.getSelection().toString().length>30&&t){e.preventDefault();var a="# "+t.child(".author").innerText,n="# "+t.child(".link").innerText,i="# "+t.child(".license").innerText,s=a+"<br>"+n+"<br>"+i+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),r=a+"\n"+n+"\n"+i+"\n\n"+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",s),e.clipboardData.setData("text/plain",r);else if(window.clipboardData)return window.clipboardData.setData("text",r)}},u.each("li ruby",(function(e){var t=e.parentNode;"LI"!=e.parentNode.tagName&&(t=e.parentNode.parentNode),t.addClass("ruby")})),u.each(".md table",(function(e){e.wrap({className:"table-container"})})),u.each(".highlight > .table-container",(function(e){e.className="code-container"})),u.each("figure.highlight",(function(e){var t=e.child(".code-container"),a=e.child("figcaption");e.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');var n=e.child(".copy-btn");n.addEventListener("click",(function(e){var a=e.currentTarget,n="",i="";t.find("pre").forEach((function(e){i+=n+e.innerText,n="\n"})),ne(i,(function(e){a.child(".ic").className=e?"ic i-check":"ic i-times",a.blur(),K(LOCAL.copyright)}))})),n.addEventListener("mouseleave",(function(e){setTimeout((function(){e.target.child(".ic").className="ic i-clipboard"}),1e3)})),e.child(".breakline-btn").addEventListener("click",(function(t){var a=t.currentTarget;e.hasClass("breakline")?(e.removeClass("breakline"),a.child(".ic").className="ic i-align-left"):(e.addClass("breakline"),a.child(".ic").className="ic i-align-justify")}));var i=e.child(".fullscreen-btn"),s=function(){e.removeClass("fullscreen"),e.scrollTop=0,w.removeClass("fullscreen"),i.child(".ic").className="ic i-expand"},r=function(t){t.currentTarget,e.hasClass("fullscreen")?(s(),d&&d(),c(e)):(e.addClass("fullscreen"),w.addClass("fullscreen"),i.child(".ic").className="ic i-compress",l&&l())};if(i.addEventListener("click",r),a&&a.addEventListener("click",r),t&&t.height()>300){t.style.maxHeight="300px",t.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');var o=t.child(".show-btn"),l=(o.child("i"),function(){t.style.maxHeight="",o.addClass("open")}),d=function(){t.style.maxHeight="300px",o.removeClass("open")};o.addEventListener("click",(function(e){o.hasClass("open")?(s(),d(),c(t)):l()}))}})),u.each("pre.mermaid > svg",(function(e){e.style.maxWidth=""})),u.each(".reward button",(function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=u("#qr");"inline-flex"===t.display()?l(t,0):l(t,1,(function(){t.display("inline-flex")}))}))})),u.each(".quiz > ul.options li",(function(e){e.addEventListener("click",(function(t){e.hasClass("correct")?(e.toggleClass("right"),e.parentNode.parentNode.addClass("show")):e.toggleClass("wrong")}))})),u.each(".quiz > p",(function(e){e.addEventListener("click",(function(t){e.parentNode.toggleClass("show")}))})),u.each(".quiz > p:first-child",(function(e){var t=e.parentNode,a="choice";(t.hasClass("true")||t.hasClass("false"))&&(a="true_false"),t.hasClass("multi")&&(a="multiple"),t.hasClass("fill")&&(a="gap_fill"),t.hasClass("essay")&&(a="essay"),e.attr("data-type",LOCAL.quiz[a])})),u.each(".quiz .mistake",(function(e){e.attr("data-type",LOCAL.quiz.mistake)})),u.each("div.tags a",(function(e){e.className=["primary","success","info","warning","danger"][Math.floor(5*Math.random())]})),u.each(".md div.player",(function(e){p(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()}))),ve(),I.player.load(LOCAL.audio||e.audio||{}),U.hide(),setTimeout((function(){ae()}),500),fe(),J.observe()},xe=function(){u.each(".overview .menu > .item",(function(e){L.child(".menu").appendChild(e.cloneNode(!0))})),k.addEventListener("click",U.vanish),T.addEventListener("click",ie),u(".dimmer").addEventListener("click",ie),M.child(".down").addEventListener("click",ce),M.child(".up").addEventListener("click",oe),j||(j=E.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})),R||(R=E.createChild("div",{id:"angle",innerHTML:'<span><i class="ic i-angle-down" aria-hidden="true"></i></span>'})),I=j.child(".player"),H=j.child(".back-to-top"),A=j.child(".chat"),S=j.child(".contents"),R.addEventListener("click",de),H.addEventListener("click",oe),A.addEventListener("click",le),S.addEventListener("click",ie),p(I),u("main").addEventListener("click",(function(){I.player.mini()})),X=new Pjax({selectors:["head title",".languages",".pjax","script[data-config]"],analytics:!1,cacheBust:!1}),e.quicklink.ignores=LOCAL.ignores,quicklink.listen(e.quicklink),document.addEventListener("visibilitychange",(function(){switch(document.visibilityState){case"hidden":u('[rel="icon"]').attr("href",m+e.favicon.hidden),document.title=LOCAL.favicon.hide,e.loader.switch&&U.show(),clearTimeout(b);break;case"visible":u('[rel="icon"]').attr("href",m+e.favicon.normal),document.title=LOCAL.favicon.show,e.loader.switch&&U.hide(1e3),b=setTimeout((function(){document.title=y}),2e3)}})),G(),ye(X),window.addEventListener("scroll",ee),window.addEventListener("resize",Z),window.addEventListener("pjax:send",we),window.addEventListener("pjax:success",Ce),window.addEventListener("beforeunload",(function(){te()})),Ce(1)};window.addEventListener("DOMContentLoaded",xe),console.log("%c Theme.Shoka v"+e.version+" %c https://shoka.lostyu.me/ ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;");var ke=document.createElement("canvas");ke.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(ke);var Le=ke.getContext("2d"),Ee=30,Te=0,Me=0,Ne="click",Oe=e.fireworks;function je(){ke.width=2*window.innerWidth,ke.height=2*window.innerHeight,ke.style.width=window.innerWidth+"px",ke.style.height=window.innerHeight+"px",ke.getContext("2d").scale(2,2)}function Ie(e){Te=e.clientX||e.touches&&e.touches[0].clientX,Me=e.clientY||e.touches&&e.touches[0].clientY}function He(e){var t=anime.random(0,360)*Math.PI/180,a=anime.random(50,180),n=[-1,1][anime.random(0,1)]*a;return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}function Ae(e,t){var a={};return a.x=e,a.y=t,a.color=Oe[anime.random(0,Oe.length-1)],a.radius=anime.random(16,32),a.endPos=He(a),a.draw=function(){Le.beginPath(),Le.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),Le.fillStyle=a.color,Le.fill()},a}function Se(e,t){var a={};return a.x=e,a.y=t,a.color="#FFF",a.radius=.1,a.alpha=.5,a.lineWidth=6,a.draw=function(){Le.globalAlpha=a.alpha,Le.beginPath(),Le.arc(a.x,a.y,a.radius,0,2*Math.PI,!0),Le.lineWidth=a.lineWidth,Le.strokeStyle=a.color,Le.stroke(),Le.globalAlpha=1},a}function qe(e){for(var t=0;t<e.animatables.length;t++)e.animatables[t].target.draw()}function Re(e,t){for(var a=Se(e,t),n=[],i=0;i<Ee;i++)n.push(Ae(e,t));anime.timeline().add({targets:n,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:qe}).add({targets:a,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:qe},0)}var _e=anime({duration:1/0,update:function(){Le.clearRect(0,0,ke.width,ke.height)}});document.addEventListener(Ne,(function(e){_e.play(),Ie(e),Re(Te,Me)}),!1),je(),window.addEventListener("resize",je,!1);